import{m as f,c as u,o,w as g,b as e,f as r,g as x,a,u as i,j as C,e as l,F as T,s as S,t as c,n as D,N as j}from"./app-NpZ3zp7o.js";import{_ as B}from"./AppLayout-D7an1DSp.js";import{T as h,M as N}from"./ticket-CAn-5LHC.js";import{C as R}from"./calendar-GXLFl1Yo.js";import{D as V}from"./dollar-sign-uAzA2Nye.js";import{c as y}from"./theater-DBvobxkU.js";import{T as z}from"./trash-2-fSWDDEH1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./search-C4BCTOe5.js";import"./user-BOAfIRfc.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=y("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),L={class:"container mx-auto min-h-[calc(100vh-16rem)] px-4 py-8"},q={class:"w-full bg-white rounded-lg shadow-lg"},P={class:"p-6 pt-0"},$={key:0,class:"flex flex-col items-center justify-center py-12 text-gray-500"},F={key:1,class:"overflow-x-auto"},I={class:"w-full table-auto"},U={class:"px-4 py-3 font-medium"},E={class:"px-4 py-3"},X={class:"flex items-center gap-2"},G={class:"px-4 py-3"},H={class:"flex items-center gap-2"},J={class:"px-4 py-3"},K={class:"flex items-center gap-2"},O={class:"px-4 py-3"},Q={class:"flex items-center gap-2"},W={class:"px-4 py-3"},Y={class:"px-4 py-3 text-right"},Z=["onClick"],ee={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},te={class:"w-full max-w-md p-6 bg-white rounded-lg shadow-lg"},se={class:"flex justify-end mt-6 space-x-2"},fe={__name:"MyBookings",props:{mockReservations:Array},setup(b){const m=b,d=f(!1),p=f(null),v=n=>{p.value=n,d.value=!0},k=()=>{p.value&&j.put(route("bookings.update",p.value),{status:"cancelled"},{preserveScroll:!0,onSuccess:()=>{d.value=!1,p.value=null}})},w=n=>new Date(n).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=n=>n.price.price*n.quantity;return(n,t)=>(o(),u(B,null,{default:g(()=>[e("main",L,[e("div",q,[t[6]||(t[6]=e("div",{class:"p-6"},[e("h2",{class:"text-3xl font-bold text-gray-800"},"My Reservations"),e("p",{class:"text-gray-600"}," View and manage your upcoming and past theater bookings. ")],-1)),e("div",P,[m.mockReservations.length===0?(o(),r("div",$,[a(i(h),{class:"w-12 h-12 mb-4"}),t[2]||(t[2]=e("p",{class:"text-lg"},"No reservations found.",-1)),t[3]||(t[3]=e("p",{class:"text-sm"}," Start exploring shows to book your first experience! ",-1)),a(i(C),{href:n.route("shows"),class:"px-4 py-2 mt-6 text-white rounded-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"},{default:g(()=>t[1]||(t[1]=[l(" Browse Shows ")])),_:1,__:[1]},8,["href"])])):(o(),r("div",F,[e("table",I,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"text-sm font-medium text-left text-gray-500 border-b"},[e("th",{class:"px-4 py-2"},"Show"),e("th",{class:"px-4 py-2"},"Venue"),e("th",{class:"px-4 py-2"},"Date & Time"),e("th",{class:"px-4 py-2"},"Tickets"),e("th",{class:"px-4 py-2"},"Total Price"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(o(!0),r(T,null,S(m.mockReservations,s=>(o(),r("tr",{key:s.id,class:"border-b hover:bg-gray-50"},[e("td",U,c(s.representation.show.title),1),e("td",E,[e("div",X,[a(i(N),{class:"w-4 h-4 text-gray-500"}),l(" "+c(s.representation.location.designation),1)])]),e("td",G,[e("div",H,[a(i(R),{class:"w-4 h-4 text-gray-500"}),l(" "+c(w(s.reservation.booking_date)),1)])]),e("td",J,[e("div",K,[a(i(h),{class:"w-4 h-4 text-gray-500"}),l(" "+c(s.quantity),1)])]),e("td",O,[e("div",Q,[a(i(V),{class:"w-4 h-4 text-gray-500"}),l(" "+c(_(s)),1)])]),e("td",W,[e("span",{class:D(["inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold",s.reservation.status==="booked"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[s.reservation.status==="booked"?(o(),u(i(A),{key:0,class:"inline-block w-3 h-3 mr-1"})):(o(),u(i(M),{key:1,class:"inline-block w-3 h-3 mr-1"})),l(" "+c(s.reservation.status.charAt(0).toUpperCase()+s.reservation.status.slice(1)),1)],2)]),e("td",Y,[s.reservation.status==="booked"?(o(),r("button",{key:0,onClick:oe=>v(s.id),class:"inline-flex items-center justify-center px-3 text-sm font-medium text-white transition-colors bg-pink-600 rounded-md whitespace-nowrap ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-pink-700 h-9"},[a(i(z),{class:"w-4 h-4 mr-2"}),t[4]||(t[4]=l(" Cancel "))],8,Z)):x("",!0)])]))),128))])])]))])]),d.value?(o(),r("div",ee,[e("div",te,[t[7]||(t[7]=e("h3",{class:"mb-2 text-lg font-semibold"},"Are you absolutely sure?",-1)),t[8]||(t[8]=e("p",{class:"text-sm text-gray-500"}," This action cannot be undone. This will permanently cancel your reservation. ",-1)),e("div",se,[e("button",{onClick:t[0]||(t[0]=s=>d.value=!1),class:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium transition-colors border rounded-md whitespace-nowrap ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border-input bg-background hover:bg-accent hover:text-accent-foreground h-9"}," Dismiss "),e("button",{onClick:k,class:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition-colors bg-pink-600 rounded-md whitespace-nowrap ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-pink-700 h-9"}," Confirm Cancellation ")])])])):x("",!0)])]),_:1}))}};export{fe as default};
