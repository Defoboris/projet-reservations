import{m as g,z as A,f as y,g as C,o as p,b as e,t as r,a as v,u as x,d as M,i as n,q as u,y as U,F as S,s as _,c as V,w as X,e as N,n as L,x as z,N as w,A as h}from"./app-C-3y-xWQ.js";import{_ as D}from"./AuthLayout-C81i9tPc.js";import{X as O,P as j}from"./x-CK7U48-r.js";import{S as B}from"./square-pen-YFQlM9HA.js";import{T as P}from"./trash-2-CTZVH7y0.js";import"./theater-F4K7eIWg.js";import"./ticket-DQe_NsCT.js";import"./Dropdown-D2pMJQv7.js";import"./user-BqKx6FU8.js";const T={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50"},q={class:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col"},E={class:"sticky top-0 z-10 flex items-center justify-between px-6 py-4 bg-white border-b"},F={class:"text-xl font-bold text-gray-800"},I={class:"flex-1 px-6 py-4 space-y-4 overflow-y-auto"},W=["value"],G={class:"sticky bottom-0 z-10 flex justify-end px-6 py-4 space-x-4 bg-white border-t"},H={__name:"VenuesModal",props:{isOpen:Boolean,mode:{type:String,default:"add"},initialData:{type:Object,default:()=>({slug:"",image:"",capcity:"",designation:"",address:"",locality_id:"",website:"",phone:""})},localities:{type:Array,default:()=>[]}},emits:["close","save"],setup(d,{emit:c}){const a=c,m=d,l=g({});A(()=>{l.value={...m.initialData}});function b(){a("close")}function f(){a("save",l.value)}return(k,t)=>d.isOpen?(p(),y("div",T,[e("div",q,[e("div",E,[e("h3",F,r(d.mode==="add"?"Add New Location":"Edit Location"),1),e("button",{onClick:b,class:"text-gray-400 hover:text-gray-600"},[v(x(O),{class:"w-6 h-6"})])]),e("div",I,[e("form",{onSubmit:M(f,["prevent"]),class:"space-y-4"},[e("div",null,[t[8]||(t[8]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Designation",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.designation=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.designation]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Slug",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.slug=s),type:"text",placeholder:"Optional",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.slug]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Image",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.image=s),type:"text",placeholder:"Optional",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.image]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Capacity",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.capacity=s),type:"text",placeholder:"Optional",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.capacity]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Address",-1)),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.address=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.address]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Website",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.website=s),type:"url",placeholder:"https://example.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.website]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Phone",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.phone=s),type:"tel",placeholder:"+34 XX XXX XXX",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[u,l.value.phone]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Locality",-1)),n(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.locality_id=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},[t[15]||(t[15]=e("option",{value:""},"Select Locality",-1)),(p(!0),y(S,null,_(d.localities,s=>(p(),y("option",{key:s.id,value:s.id},r(s.name),9,W))),128))],512),[[U,l.value.locality_id]])])],32)]),e("div",G,[e("button",{type:"button",onClick:b,class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),e("button",{type:"submit",form:"form",onClick:f,class:"px-6 py-2 text-white rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"},r(d.mode==="add"?"Add Location":"Save Changes"),1)])])])):C("",!0)}},J={class:"p-6"},K={class:"flex items-center justify-between mb-6"},Q={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},R={class:"absolute top-4 right-4"},Y={class:"flex space-x-2"},Z=["onClick"],ee=["onClick"],te={class:"absolute text-white bottom-4 left-4"},se={class:"text-xl font-bold"},le={class:"text-sm"},oe={class:"p-6"},ae={class:"mb-4 text-gray-600"},ie={class:"grid grid-cols-2 gap-4 text-sm"},ne={class:"ml-2 font-semibold"},re={class:"ml-2 font-semibold"},ve={__name:"Venues",props:{venues:Array,localities:Array},setup(d){const c=g("add"),a=g(!1);g("");const m=g({slug:"",image:"",capacity:"",designation:"",address:"",locality_id:"",website:"",phone:""}),l=d;function b(){c.value="add",m.value={slug:"",image:"",capacity:"",designation:"",address:"",locality_id:"",website:"",phone:""},a.value=!0}const f=s=>{c.value="edit",m.value={...s},a.value=!0};function k(s){c.value==="add"?w.post(route("admin.venues.store"),s,{preserveScroll:!0,onSuccess:()=>{a.value=!1,h.success("Venue created successfully.",{autoClose:3e3,position:"top-right"})}}):w.put(route("admin.venues.update",s.id),s,{preserveScroll:!0,onSuccess:()=>{a.value=!1,h.success("Venue Updated successfully.",{autoClose:3e3,position:"top-right"})}})}const t=s=>{confirm("Are you sure?")&&w.delete(route("admin.venues.destroy",s),{preserveScroll:!0,onSuccess:()=>{h.success("Venue deleted successfully.",{autoClose:3e3,position:"top-right"})}})};return(s,i)=>(p(),V(D,null,{default:X(()=>[e("div",J,[e("div",K,[i[2]||(i[2]=e("h2",{class:"text-2xl font-bold text-gray-800"},"Venues Management",-1)),e("button",{onClick:b,class:"px-6 py-3 font-semibold text-white transition-all rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"},[v(x(j),{class:"inline w-4 h-4 mr-2"}),i[1]||(i[1]=N(" Add New Venue "))])]),e("div",Q,[(p(!0),y(S,null,_(l.venues,o=>(p(),y("div",{key:o.id,class:"overflow-hidden transition-shadow bg-white border border-gray-100 shadow-sm rounded-xl hover:shadow-md"},[e("div",{class:L([o.gradient,"relative h-48"])},[e("div",{class:"absolute inset-0 bg-center bg-cover",style:z({backgroundImage:`url('${o.image}')`})},null,4),e("div",R,[e("div",Y,[e("button",{onClick:$=>f(o),class:"p-2 text-white bg-white rounded-lg bg-opacity-20 hover:bg-opacity-30"},[v(x(B),{class:"w-4 h-4"})],8,Z),e("button",{onClick:$=>t(o.id),class:"p-2 text-white bg-white rounded-lg bg-opacity-20 hover:bg-opacity-30"},[v(x(P),{class:"w-4 h-4"})],8,ee)])]),e("div",te,[e("h3",se,r(o.designation),1),e("p",le,r(o.address),1)])],2),e("div",oe,[e("p",ae,r(o.description),1),e("div",ie,[e("div",null,[i[3]||(i[3]=e("span",{class:"text-gray-500"},"Capacity:",-1)),e("span",ne,r(o.capacity),1)]),e("div",null,[i[4]||(i[4]=e("span",{class:"text-gray-500"},"Locality:",-1)),e("span",re,r(o.locality.name),1)])])])]))),128))])]),a.value?(p(),V(H,{key:0,"is-open":a.value,mode:c.value,"initial-data":m.value,localities:l.localities,onClose:i[0]||(i[0]=o=>a.value=!1),onSave:k},null,8,["is-open","mode","initial-data","localities"])):C("",!0)]),_:1}))}};export{ve as default};
